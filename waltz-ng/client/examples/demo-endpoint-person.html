<!--
  ~ Waltz - Enterprise Architecture
  ~ Copyright (C) 2016, 2017, 2018, 2019 Waltz open source project
  ~ See README.md for more information
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific
  ~
  -->

<div>
    <waltz-page-header name="Person" small="Endpoint & Entity">
    </waltz-page-header>


    <waltz-section name="Person Entity">
        <table class="table table-condensed table-hover">
            <thead>
            <tr>
                <th>Attribute</th>
                <th>Description</th>
                <th>Type</th>
                <th>Default</th>
                <th>Restrictions</th>
            </tr>
            </thead>
            <tr>
                <td> employee_id </td>
                <td> Employee Id </td>
                <td> String </td>
                <td> - </td>
                <td> Optional, but strongly encouraged </td>
            </tr>
            <tr>
                <td> id </td>
                <td> Generated id for the employee </td>
                <td> Long </td>
                <td> <span class="text-muted">auto assigned</span> </td>
                <td> PK </td>
            </tr>
            <tr>
                <td> display_name </td>
                <td> Employee display name </td>
                <td> String </td>
                <td> - </td>
                <td> - </td>
            </tr>
            <tr>
                <td> email </td>
                <td> Primary email address for the employee </td>
                <td> String </td>
                <td> - </td>
                <td> - </td>
            </tr>
            <tr>
                <td> user_principal_name </td>
                <td> The employees account name </td>
                <td> String </td>
                <td> - </td>
                <td> - </td>
            </tr>
            <tr>
                <td> department_name </td>
                <td> Name of the employee's department </td>
                <td> String </td>
                <td> - </td>
                <td> Free format as usually inconsistent in data sources </td>
            </tr>
            <tr>
                <td> kind </td>
                <td> Type of employee. </td>
                <td> Enumeration (see below) </td>
                <td> EMPLOYEE </td>
                <td> Required </td>
            </tr>
            <tr>
                <td> manager_employee_id </td>
                <td> The employee id of this employees manager </td>
                <td> String </td>
                <td> - </td>
                <td> If empty, assumed to be a 'root' level employee </td>
            </tr>
            <tr>
                <td> title </td>
                <td> Employees title </td>
                <td> String </td>
                <td> - </td>
                <td> - </td>
            </tr>
            <tr>
                <td> mobilePhone </td>
                <td> Mobile Phone number </td>
                <td> String </td>
                <td> - </td>
                <td> - </td>
            </tr>
            <tr>
                <td> officePhone </td>
                <td> Office Phone number </td>
                <td> String </td>
                <td> - </td>
                <td> - </td>
            </tr>
        </table>
    </waltz-section>


    <waltz-section name="Enumerated Values">

        <h4>Person Kind</h4>

        <table class="table table-condensed">
            <thead>
            <tr>
                <th>Value</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>EMPLOYEE</td>
                <td>Directly employed by your organisation</td>
            </tr>
            <tr>
                <td>CONTRACTOR</td>
                <td>-</td>
            </tr>
            <tr>
                <td>CONSULTANT</td>
                <td>-</td>
            </tr>
            <tr>
                <td>EUC</td>
                <td>End User Computing (e.g. custom spreadsheets)</td>
            </tr>
            </tbody>
        </table>

    </waltz-section>


    <waltz-section name="Example JSON Representation">
        <pre>
{
  "employeeId": "RAJMAldzD",
  "displayName": "Caroline Faulkner",
  "title": "Administrator",
  "email": "carolinefaulkner@yahoo.com",
  "userPrincipalName": "carolinef",
  "kind": "EMPLOYEE",
  "managerEmployeeId": "N0FPZkzIR",
  "departmentName": "Support",
  "allManagers": null,
  "officePhone": "0208 6747300",
  "allManagers": null,
  "id": 264171
}
        </pre>
    </waltz-section>


    <waltz-section name="Primary Endpoints">
        <table class="table table-condensed">
            <thead>
            <tr>
                <th>URL</th>
                <th>Return</th>
                <th>Description</th>
            </tr>
            </thead>
            <tr>
                <td><code>api/person/employee-id/(id:string)</code></td>
                <td>Single employee record</td>
                <td>Returns the employee associated with the given id</td>
            </tr>
            <tr>
                <td><code>api/person/employee-id/(id:string)/directs</code></td>
                <td>List of employee record</td>
                <td>Returns the all employees reporting to the given employee id</td>
            </tr>
            <tr>
                <td><code>api/person/employee-id/(id:string)/manager</code></td>
                <td>LiSingle employee record</td>
                <td>Returns the manager record of the given employee id</td>
            </tr>
            <tr>
                <td><code>api/application/org-unit-tree/(org-unit-id:long)</code></td>
                <td>List of application records</td>
                <td>Returns applications belonging to the given organisational unit or any of its sub org-units</td>
            </tr>
        </table>
    </waltz-section>

</div>
