<!--
  ~ Waltz - Enterprise Architecture
  ~ Copyright (C) 2016, 2017, 2018, 2019 Waltz open source project
  ~ See README.md for more information
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific
  ~
  -->

<form name="bookmarkForm"
      class="form-horizontal"
      novalidate
      role="form"
      ng-submit="$ctrl.onSubmit($ctrl.bookmark)">
    <div class="form-group">
        <label for="title"
               class="col-sm-2 control-label">
            Title
        </label>
        <div class="col-sm-10">
            <input class="form-control"
                   id="title"
                   placeholder="Link title"
                   data-ux="bookmarks-title-field"
                   ng-disabled="$ctrl.bookmark.isRequired"
                   ng-change="$ctrl.onFormChange()"
                   ng-model="$ctrl.bookmark.title">
            <p class="help-block">Provide a descriptive title for this link</p>
        </div>
    </div>
    <div class="form-group">
        <label for="url"
               class="col-sm-2 control-label">
            * URL
        </label>
        <div class="col-sm-10">
            <input class="form-control"
                   id="url"
                   data-ux="bookmarks-url-field"
                   ng-model="$ctrl.bookmark.url"
                   ng-change="$ctrl.onFormChange()"
                   maxlength="500"
                   placeholder="URL">
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">
            Restricted URL
        </label>
        <div class="col-sm-10">
            <waltz-toggle label-on='Restricted'
                          label-off='Not restricted'
                          icon-on='lock'
                          icon-off='unlock'
                          on-toggle='$ctrl.toggleRestricted()'
                          state='$ctrl.bookmark.isRestricted'>
            </waltz-toggle>
            <p class="help-block">Security Permissions apply to this link</p>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">
            Kind
        </label>
        <div class="col-sm-10">
            <waltz-bookmark-kind-select selected="$ctrl.bookmark.bookmarkKind"
                                        disabled-condition="$ctrl.bookmark.isRequired"
                                        on-select="$ctrl.onKindSelect">
            </waltz-bookmark-kind-select>
            <p class="help-block">Categorize this bookmark according to its purpose</p>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">
            Primary
        </label>
        <div class="col-sm-10">
            <waltz-toggle label-on='Primary'
                          label-off='Not primary'
                          icon-on='star'
                          icon-off='star-o'
                          on-toggle='$ctrl.togglePrimary()'
                          state='$ctrl.bookmark.isPrimary'>
            </waltz-toggle>
            <p class="help-block">Primary links will be given preference when shown in views</p>
        </div>
    </div>
    <div class="form-group">
        <label for="description"
               class="col-sm-2 control-label">
            Description
        </label>
        <div class="col-sm-10">
            <textarea rows="8"
                      cols="80"
                      data-ux="bookmarks-description-field"
                      id="description"
                      ng-change="$ctrl.onFormChange()"
                      ng-model="$ctrl.bookmark.description">
            </textarea>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit"
                    ng-disabled="$ctrl.submitDisabled"
                    data-ux="bookmarks-submit-new"
                    class="btn btn-success">
                {{ $ctrl.confirmLabel }}
            </button>
            <a ng-click="$ctrl.onCancel()"
               class="clickable">
                Cancel
            </a>
        </div>
    </div>
</form>