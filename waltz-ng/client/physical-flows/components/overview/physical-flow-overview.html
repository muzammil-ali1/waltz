<!--
  ~ Waltz - Enterprise Architecture
  ~ Copyright (C) 2016, 2017, 2018, 2019 Waltz open source project
  ~ See README.md for more information
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific
  ~
  -->

<div class="waltz-physical-flow-overview"
     ng-class="{
        'ws-inactive': $ctrl.physicalFlow.entityLifecycleStatus === 'REMOVED',
        'ws-draft': $ctrl.physicalFlow.entityLifecycleStatus === 'PENDING',
     }">
    <div class="row">
        <!--SOURCE-->
        <div class="col-sm-4">
            <div style="padding-top: 12px">
                <waltz-physical-flow-overview-node node="$ctrl.logicalFlow.source"
                                                   criticality-mismatch="$ctrl.hasCriticalityMismatch"
                                                   participants="$ctrl.participants.SOURCE">
                </waltz-physical-flow-overview-node>
            </div>
        </div>
        <!--FLOW DETAIL-->
        <div class="col-sm-4">
            <div class="wpfo-flow-arrow">
                &rarr;
            </div>
            <div class="wpfo-flow-detail">
                <table class="waltz-field-table small">
                    <tr>
                        <td class="wft-label">
                            <span>
                                Criticality:
                            </span>
                        </td>
                        <td>
                            <waltz-enum-value type="'physicalFlowCriticality'"
                                              key="$ctrl.physicalFlow.criticality"
                                              show-icon="false"
                                              show-popover="false">
                            </waltz-enum-value>
                        </td>
                    </tr>
                    <tr>
                        <td class="wft-label">
                            <span>
                                Transport:
                            </span>
                        </td>
                        <td>
                            <span ng-bind="$ctrl.physicalFlow.transport | toDisplayName:'TransportKind'"></span>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <!--TARGET-->
        <div class="col-sm-4">
            <div style="padding-top: 12px">
                <waltz-physical-flow-overview-node node="$ctrl.logicalFlow.target"
                                                   participants="$ctrl.participants.TARGET">
                </waltz-physical-flow-overview-node>
            </div>
        </div>
    </div>

    <br>

    <waltz-physical-flow-and-specification-detail physical-flow="$ctrl.physicalFlow"
                                                  specification="$ctrl.specification">
    </waltz-physical-flow-and-specification-detail>

</div>