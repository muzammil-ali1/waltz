<!--
  ~ Waltz - Enterprise Architecture
  ~ Copyright (C) 2016, 2017, 2018, 2019 Waltz open source project
  ~ See README.md for more information
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific
  ~
  -->

<span>
    <table class="table table-condensed table-bordered">
        <colgroup>
            <col width="80%">
            <col width="20%">
        </colgroup>
        <tr ng-repeat="subscription in ctrl.groupSubscriptions | orderBy:'appGroup.name'">
            <td>
                <div>
                    <strong>
                        <a ui-sref="main.app-group.view ({ id: subscription.appGroup.id })">
                            {{ subscription.appGroup.name }}
                        </a>
                        <small>{{ subscription.appGroup.kind }}</small>
                    </strong>
                </div>
                <div>
                    <small>{{ subscription.appGroup.description }}</small>
                </div>
            </td>
            <td ng-if="ctrl.editing">
                <small style="text-align: right">
                    <ul class="list-unstyled">
                        <li  ng-if="subscription.role == 'OWNER'">
                            <a class="clickable" ng-click="ctrl.deleteGroup(subscription)">
                                Delete
                                <waltz-icon name="trash"></waltz-icon>
                            </a>
                        </li>
                        <li ng-if="subscription.role == 'VIEWER'">
                            <a class="clickable" ng-click="ctrl.unsubscribe(subscription)">
                                Unsubscribe
                                <waltz-icon name="minus-circle"></waltz-icon>
                            </a>
                        </li>
                        <li ng-if="subscription.role == 'OWNER'">
                            <a ui-sref="main.app-group.edit ({ id:subscription.appGroup.id })">
                                Edit
                                <waltz-icon name="edit"></waltz-icon>
                            </a>
                        </li>
                    </ul>
                </small>
            </td>
        </tr>
    </table>
</div>