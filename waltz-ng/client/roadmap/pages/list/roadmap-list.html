<!--
  ~ Waltz - Enterprise Architecture
  ~ Copyright (C) 2016, 2017, 2018, 2019 Waltz open source project
  ~ See README.md for more information
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific
  ~
  -->

<waltz-page-header name="Roadmaps"
                   small="List"
                   icon="road">

    <breadcrumbs>
        <ol class="waltz-breadcrumbs">
            <li>
                <a ui-sref="main">
                    Home
                </a>
            </li>
            <li>Roadmaps</li>
        </ol>
    </breadcrumbs>
</waltz-page-header>


<div class="row">
    <div class="col-md-12">
        <div class="waltz-page-summary waltz-page-summary-attach">
            <blockquote>
                Roadmaps are used to illustrate how the applications
                related to a specific area change over time.  Each roadmap
                contains a set of scenarios which show a grid of user defined
                measurables, the cells contain rated applications showing
                what the landscape will look like at that point in time.
            </blockquote>

            <table class="table table-condensed table-hover">
                <thead>
                <tr>
                    <th>Roadmap / Scenario</th>
                    <th>Dimensions / Type</th>
                    <th>Effective Date</th>
                    <th>Status</th>
                    <th>Last updated</th>
                </tr>
                <tbody ng-repeat="r in $ctrl.list">
                    <tr>
                        <td>
                            <span uib-popover-template="'wrl-r-popover.html'"
                                  popover-trigger="mouseenter"
                                  popover-enable="r.roadmap.description"
                                  popover-popup-delay="300"
                                  popover-append-to-body="true">
                                <a ui-sref="main.roadmap.view ({id: r.roadmap.id})"
                                   ng-bind="r.roadmap.name">
                                </a>
                            </span>
                        </td>
                        <td>
                            <span ng-bind="r.roadmap.columnType.name"></span>
                            /
                            <span ng-bind="r.roadmap.rowType.name"></span>
                        </td>
                        <td colspan="3"></td>
                    </tr>
                    <tr ng-repeat="s in r.scenarios">
                        <td>
                            <span uib-popover-template="'wrl-s-popover.html'"
                                  popover-trigger="mouseenter"
                                  popover-enable="s.description"
                                  popover-popup-delay="300"
                                  popover-append-to-body="true">
                                <a style="padding-left: 16px"
                                   ui-sref="main.scenario.view ({id: s.id})"
                                   ng-bind="s.name">
                                </a>
                            </span>
                        </td>
                        <td>
                            <span ng-bind="s.scenarioType | toDisplayName:'scenarioType'"></span>
                        </td>
                        <td>
                            <span ng-bind="s.effectiveDate"></span>
                        </td>
                        <td>
                            <span ng-bind="s.releaseStatus | toDisplayName:'releaseLifecycleStatus'"></span>
                        </td>
                        <td>
                            <waltz-last-updated entity="s"
                                                show-label="false">
                            </waltz-last-updated>
                        </td>
                    </tr>
                </tbody>
                </thead>
            </table>
        </div>
    </div>
</div>


<script type="text/ng-template"
        id="wrl-r-popover.html">
    <div class="small">
        <strong ng-bind="r.roadmap.name"></strong>
        <hr>
        <waltz-markdown text="r.roadmap.description"></waltz-markdown>
    </div>
</script>


<script type="text/ng-template"
        id="wrl-s-popover.html">
    <div class="small">
        <strong ng-bind="s.name"></strong>
        <hr>
        <waltz-markdown text="s.description"></waltz-markdown>
    </div>
</script>
