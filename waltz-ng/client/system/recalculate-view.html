<!--
  ~ Waltz - Enterprise Architecture
  ~ Copyright (C) 2016, 2017, 2018, 2019 Waltz open source project
  ~ See README.md for more information
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific
  ~
  -->

<div>

    <waltz-page-header icon="calculator"
                       name="Recalculate Derived Fields">
        <breadcrumbs>
            <ol class="waltz-breadcrumbs">
                <li><a ui-sref="main">Home</a></li>
                <li><a ui-sref="main.system.list">System Admin</a></li>
                <li>Recalculate</li>
            </ol>
        </breadcrumbs>
    </waltz-page-header>

    <div class="waltz-page-summary waltz-page-summary-attach">
        <div class="row">
            <div class="col-md-12">

                <p>
                    Waltz attempts to keep derived fields in sync with the
                    source data, however it may be necessary to rebuild some
                    of these fields if the data changes via an external process.
                </p>


                <div>
                    <hr>
                    <h4>Rated Flows</h4>
                    <p class="small text-muted">
                        Logical flows are decorated with data types which may in
                        turn be rated against Authoritative Sources.  Use the link
                        below to recalculate all ratings.
                    </p>

                    <button class="btn btn-primary"
                            ng-click="ctrl.recalcFlowRatings()">
                        Recalculate Flow Ratings
                    </button>
                </div>

                <div>
                    <hr>
                    <h4>Data Type Usages</h4>
                    <p class="small text-muted">
                        Applications track what data types they use and how
                        they get used.  Use the link below to recalculate all
                        data type usage records.
                    </p>

                    <button class="btn btn-primary"
                            ng-click="ctrl.recalcDataTypeUsages()">
                        Recalculate Data Type Usages
                    </button>
                </div>


                <div>
                    <hr>
                    <h4>Application Complexity</h4>
                    <p class="small text-muted">
                        Complexity is measured by counting flows, functions and servers.
                        Use the link below to recalculate the ratings for each application.
                    </p>

                    <button class="btn btn-primary"
                            ng-click="ctrl.recalcComplexity()">
                        Recalculate Complexity Ratings
                    </button>
                </div>

            </div>
        </div>

    </div>
</div>